{% extends 'blog/base.html' %}
{% load static %}
{% block head %}
    <link href="{% static 'mdeditor/css/editormd.min.css' %}" rel="stylesheet">
    <link href="{% static 'mdeditor/css/editormd.preview.css' %}" rel="stylesheet">
{% endblock %}
{% block masthead %}
    <header class="masthead" style="background-image: url('{% static 'blog/img/bg.jpg' %}');">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-10 col-lg-8 mx-auto position-relative">
                    <div class="site-heading article-title" style="padding: 15vh 0 25vh">
                        <h1>{{ article.title }}</h1>
                        <span class="subheading">{{ article.summary }}</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
{% endblock %}

{% block content %}
    <div class="col-md-10 col-lg-10">
        <!-- 将文章内容以隐藏的 div 或是 script 标签保存原始 Markdown 文本 -->
        <div id="content">
            <div id="content"><label>
                <textarea>{{ article.body }}</textarea>
            </label></div>
        </div>
        {#        <div class="clearfix">#}
        {#            <button class="btn btn-primary float-end" type="button">Older Posts&nbsp;⇒</button>#}
        {#        </div>#}
    </div>
    <script src="{% static 'mdeditor/js/jquery.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/editormd.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/marked.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/prettify.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/raphael.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/underscore.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/sequence-diagram.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/flowchart.min.js' %}"></script>
    <script src="{% static 'mdeditor/js/lib/jquery.flowchart.min.js' %}"></script>
    <script>
        $(function () {
            // js 解析markdown
            editormd.markdownToHTML("content", {
                //htmlDecode      : "style,script,iframe",  // you can filter tags decode
                emoji: true,
                taskList: true,
                tex: true,  // 默认不解析
                flowChart: true,  // 默认不解析
                sequenceDiagram: true,  // 默认不解析
            });
            $(".reference-link").each(function (i, obj) {
                console.log(obj)
            })
        })

    </script>
{% endblock %}

{% block script %}
    {{ block.super }}


{% endblock %}



